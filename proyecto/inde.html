<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS OS | Ecosistema Definitivo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/estilos.css">
</head>
<body class="dashboard-body">

    <nav class="sidebar">
        <div class="brand">
            <i class="fas fa-cube fa-2x text-primary mb-2"></i>
            <h3>NEXUS <span class="badge bg-warning text-dark" style="font-size: 0.4em; vertical-align: top;">ULTIMATE</span></h3>
        </div>
        
        <div class="profile-mini text-center mt-4 mb-4">
            <div class="avatar-circle">
                <i class="fas fa-user-astronaut"></i>
            </div>
            <h6 class="mt-2 text-white" id="userNameDisplay">CEO Founder</h6>
            <small class="text-muted">Nivel <span id="userLevel">1</span></small>
            <div class="progress mt-2" style="height: 5px;">
                <div class="progress-bar bg-success" id="xpBar" style="width: 0%"></div>
            </div>
        </div>
        
        <ul class="nav flex-column mt-4">
            <li class="nav-item"><a class="nav-link active" onclick="switchTab('dashboard')"><i class="fas fa-home"></i> Centro de Mando</a></li>
            <li class="nav-item"><a class="nav-link" onclick="switchTab('kanban')"><i class="fas fa-columns"></i> Gesti√≥n (Kanban)</a></li>
            <li class="nav-item"><a class="nav-link" onclick="switchTab('market')"><i class="fas fa-chart-line"></i> Mercado & Montecarlo</a></li>
            <li class="nav-item"><a class="nav-link" onclick="switchTab('terminal')"><i class="fas fa-terminal"></i> Terminal Crypto</a></li>
            <li class="nav-item"><a class="nav-link" onclick="switchTab('skills')"><i class="fas fa-brain"></i> √Årbol de Habilidades</a></li>
            <li class="nav-item"><a class="nav-link" onclick="switchTab('ventures')"><i class="fas fa-rocket"></i> Incubadora IA</a></li>
        </ul>

        <div class="mt-auto p-3">
            <div class="alert alert-dark border-primary system-status">
                <small><i class="fas fa-wifi text-success"></i> Sistema: ONLINE</small>
            </div>
        </div>
    </nav>

    <main class="main-content">
        
        <header class="d-flex justify-content-between align-items-center mb-5">
            <div>
                <h2 class="fw-bold text-white" id="pageTitle">Centro de Mando</h2>
                <p class="text-muted">Bienvenido al arquitecto de tu futuro.</p>
            </div>
            <div class="d-flex gap-3">
                <div class="metric-pill glow-border">
                    <i class="fas fa-wallet text-warning"></i> <span id="virtualWallet">$1,000.00</span>
                </div>
                <button class="btn btn-outline-light btn-sm" onclick="location.reload()"><i class="fas fa-power-off"></i> Reset</button>
            </div>
            <header class="d-flex justify-content-between align-items-center mb-5 sticky-top mobile-header-bg">
    <div>
        <h2 class="fw-bold text-white" id="pageTitle">Centro de Mando</h2>
        <p class="text-muted d-none d-md-block">Bienvenido al arquitecto de tu futuro.</p> </div>
    <div class="d-flex gap-2 align-items-center">
        <div class="metric-pill glow-border" style="padding: 5px 15px;">
            <i class="fas fa-wallet text-warning"></i> <span id="virtualWallet" style="font-size:0.9rem;">$1,000</span>
        </div>
        <div class="metric-pill bg-dark border border-secondary" style="padding: 5px 10px;">
            <small class="text-muted">Lvl.</small> <span id="userLevelHeader" class="fw-bold text-white">1</span>
        </div>
    </div>
</header>
        </header>

        <div id="view-dashboard" class="view-section fade-in">
            <div class="row g-4 mb-4">
                <div class="col-md-4">
                    <div class="card glass-card text-center p-3">
                        <h6 class="text-muted">Valor Neto (Wallet + Acciones)</h6>
                        <h3 class="text-primary fw-bold" id="netWorth">$1,000.00</h3>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card glass-card h-100 p-3">
                         <h5 class="card-title"><i class="fas fa-bolt text-warning"></i> Estado del Imperio</h5>
                         <p class="text-muted small">Todos los sistemas operativos. Mercado estable.</p>
                    </div>
                </div>
            </div>

            <div class="row g-4">
                <div class="col-md-8">
                    <div class="card glass-card h-100">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-newspaper text-primary"></i> Noticias del Ecosistema</h5>
                            <div id="newsFeed" class="mt-3 news-scroll">
                                </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card glass-card h-100">
                        <div class="card-body">
                            <h5 class="card-title">üéØ Misiones Diarias</h5>
                            <ul class="list-group list-group-flush bg-transparent" id="missionList">
                                </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-kanban" class="view-section d-none fade-in">
            <div class="row">
                <div class="col-md-4">
                    <div class="kanban-col">
                        <h5 class="text-danger border-bottom border-danger pb-2">Pendiente üõë</h5>
                        <div class="kanban-card">Dise√±ar Logo</div>
                        <div class="kanban-card">Estudio de Mercado</div>
                        <button class="btn btn-sm btn-outline-secondary w-100 mt-2">+ A√±adir Tarea</button>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="kanban-col">
                        <h5 class="text-warning border-bottom border-warning pb-2">En Progreso üöß</h5>
                        <div class="kanban-card">Programar MVP</div>
                        <div class="kanban-card">Campa√±a de Ads</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="kanban-col">
                        <h5 class="text-success border-bottom border-success pb-2">Terminado ‚úÖ</h5>
                        <div class="kanban-card opacity-50"><del>Comprar Dominio</del></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-market" class="view-section d-none fade-in">
            <div class="row">
                <div class="col-md-9">
                    <div class="card glass-card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <h5>S&P 500 (Simulado en Vivo)</h5>
                                <span class="badge bg-success" id="marketStatus">ABIERTO</span>
                            </div>
                            <div style="height: 300px; position: relative;">
                                <canvas id="liveChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card glass-card h-100">
                        <div class="card-body text-center">
                            <h6>Tu Portafolio</h6>
                            <h3 class="fw-bold text-primary" id="portfolioValue">$0.00</h3>
                            <hr class="border-secondary">
                            <button class="btn btn-success w-100 mb-2" onclick="trade('buy')">COMPRAR</button>
                            <button class="btn btn-danger w-100" onclick="trade('sell')">VENDER</button>
                            <small class="text-muted d-block mt-2">Comisi√≥n: 0.5%</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card glass-card">
                        <div class="card-header bg-transparent border-bottom border-secondary">
                            <i class="fas fa-calculator"></i> Proyecci√≥n Montecarlo (Riesgo vs Retorno)
                        </div>
                        <div class="card-body">
                            <div class="row align-items-end">
                                <div class="col-md-3">
                                    <label>Capital Inicial</label>
                                    <input type="number" class="form-control bg-dark text-white" id="mc-principal" value="5000">
                                </div>
                                <div class="col-md-3">
                                    <label>Volatilidad (Riesgo)</label>
                                    <select class="form-select bg-dark text-white" id="mc-risk">
                                        <option value="0.05">Bajo (Bonos)</option>
                                        <option value="0.15" selected>Medio (S&P 500)</option>
                                        <option value="0.80">Demente (Crypto/Startups)</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <button class="btn btn-primary w-100" onclick="runMonteCarlo()">Simular 100 Escenarios</button>
                                </div>
                            </div>
                            <div class="mt-3 text-muted small" id="mc-result">Los resultados aparecer√°n aqu√≠...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-terminal" class="view-section d-none fade-in">
            <div class="terminal-window">
                <div class="terminal-header">
                    <span class="dot bg-danger"></span><span class="dot bg-warning"></span><span class="dot bg-success"></span>
                    <span class="ms-2 small text-muted">nexus_miner.exe - running as root</span>
                </div>
                <div class="terminal-body" id="terminalOutput">
                    <div class="text-success">Initialising crypto-protocol v4.2...</div>
                    <div class="text-muted">Connecting to blockchain... OK.</div>
                    <br>
                    <span class="blink">_</span>
                </div>
                <button class="btn btn-outline-success btn-sm mt-3 w-100" onclick="toggleMining()">INICIAR/DETENER MINER√çA</button>
            </div>
        </div>

        <div id="view-skills" class="view-section d-none fade-in">
            <h4 class="mb-4">Mapa de Ruta Profesional</h4>
            <div class="skill-tree-container">
                <div class="row text-center">
                    <div class="col-12 mb-5">
                        <button class="btn btn-skill unlocked" onclick="showSkill('Fundamentos')">üê£ Fundamentos</button>
                    </div>
                    <div class="col-4">
                        <button class="btn btn-skill locked" id="skill-code" onclick="showSkill('Programaci√≥n')">üíª C√≥digo</button>
                    </div>
                    <div class="col-4">
                        <button class="btn btn-skill locked" id="skill-finance" onclick="showSkill('Finanzas')">üìà Finanzas</button>
                    </div>
                    <div class="col-4">
                        <button class="btn btn-skill locked" id="skill-marketing" onclick="showSkill('Marketing')">üì¢ Marketing</button>
                    </div>
                </div>
            </div>
            <div class="alert alert-info mt-4">
                <i class="fas fa-info-circle"></i> Gana XP completando misiones para desbloquear nuevas ramas profesionales.
            </div>
        </div>

        <div id="view-ventures" class="view-section d-none fade-in">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card glass-card text-center p-5">
                        <i class="fas fa-lightbulb fa-4x text-warning mb-4 glow-icon"></i>
                        <h2>Generador de Modelos de Negocio</h2>
                        <p class="text-muted">Algoritmo basado en tendencias de 2024-2025.</p>
                        <hr class="my-4 border-secondary">
                        <h4 id="ventureResult" class="fw-bold text-white glitch-text">Esperando input...</h4>
                        <p id="ventureDetail" class="mb-5">...</p>
                        <button class="btn btn-lg btn-primary rounded-pill px-5" onclick="generateVenture()"> <i class="fas fa-random"></i> Generar Proyecto</button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="notificationArea"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/index.js"></script>
</body>
</html>